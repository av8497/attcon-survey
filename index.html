<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Social Media Behavior Study - UAE Fashion Survey</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            max-width: 900px;
            width: 100%;
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 30px;
            text-align: center;
        }

        .header h1 {
            font-size: 28px;
            margin-bottom: 10px;
        }

        .header p {
            opacity: 0.9;
            font-size: 16px;
        }

        .demographics {
            padding: 40px;
            display: block;
        }

        .demographics h2 {
            margin-bottom: 20px;
            color: #333;
            text-align: center;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
            color: #555;
        }

        .form-group select, .form-group input {
            width: 100%;
            padding: 12px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        .form-group select:focus, .form-group input:focus {
            outline: none;
            border-color: #667eea;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }

        @media (max-width: 600px) {
            .form-row {
                grid-template-columns: 1fr;
            }
        }

        .btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 15px 30px;
            border: none;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.3s;
            display: block;
            margin: 30px auto 0;
        }

        .btn:hover {
            transform: translateY(-2px);
        }

        .interface-selection {
            padding: 40px;
            text-align: center;
            display: none;
        }

        .selection-title {
            font-size: 24px;
            margin-bottom: 20px;
            color: #333;
        }

        .selection-subtitle {
            color: #666;
            margin-bottom: 40px;
            font-size: 16px;
        }

        .interface-options {
            display: flex;
            gap: 30px;
            justify-content: center;
            flex-wrap: wrap;
        }

        .interface-option {
            flex: 1;
            max-width: 300px;
            border: 3px solid #ddd;
            border-radius: 12px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            background: white;
        }

        .interface-option:hover {
            border-color: #667eea;
            transform: translateY(-3px);
        }

        .interface-option.selected {
            border-color: #667eea;
            background: #f8f9ff;
        }

        .interface-preview {
            border: 1px solid #eee;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            min-height: 120px;
        }

        .facebook-preview {
            background: #f7f8fa;
            font-size: 13px;
            line-height: 1.4;
        }

        .instagram-preview {
            background: linear-gradient(45deg, #f09433 0%,#e6683c 25%,#dc2743 50%,#cc2366 75%,#bc1888 100%);
            color: white;
            text-align: center;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 14px;
        }

        .survey-screen {
            padding: 40px;
            display: none;
        }

        .question-counter {
            text-align: center;
            margin-bottom: 30px;
            color: #666;
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: #eee;
            border-radius: 3px;
            margin-bottom: 30px;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 3px;
            transition: width 0.3s;
        }

        .facebook-post {
            border: 1px solid #e1e5e9;
            border-radius: 8px;
            background: white;
            margin-bottom: 20px;
        }

        .facebook-header {
            padding: 15px;
            border-bottom: 1px solid #e1e5e9;
            display: flex;
            align-items: center;
        }

        .facebook-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: #667eea;
            margin-right: 10px;
        }

        .facebook-content {
            padding: 15px;
            line-height: 1.5;
        }

        .facebook-image {
            width: 100%;
            height: 200px;
            background: #f0f0f0;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 10px 0;
            border-radius: 8px;
            color: #666;
        }

        .facebook-actions {
            padding: 15px;
            border-top: 1px solid #e1e5e9;
            display: flex;
            gap: 10px;
        }

        .facebook-btn {
            flex: 1;
            padding: 10px;
            border: none;
            background: none;
            cursor: pointer;
            border-radius: 6px;
            transition: background 0.3s;
            font-size: 14px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .facebook-btn:hover {
            background: #f0f2f5;
        }

        .facebook-btn.selected {
            background: #e7f3ff;
            color: #1877f2;
        }

        .instagram-post {
            border-radius: 15px;
            background: white;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            margin-bottom: 20px;
            overflow: hidden;
        }

        .instagram-header {
            padding: 15px;
            display: flex;
            align-items: center;
        }

        .instagram-avatar {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: linear-gradient(45deg, #f09433, #e6683c, #dc2743);
            margin-right: 12px;
        }

        .instagram-content {
            padding: 0 15px 15px;
            font-size: 14px;
            line-height: 1.4;
        }

        .instagram-image {
            width: 100%;
            height: 250px;
            background: linear-gradient(45deg, #f09433 0%, #e6683c 50%, #dc2743 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 16px;
        }

        .instagram-actions {
            padding: 15px;
            display: flex;
            gap: 15px;
        }

        .instagram-btn {
            padding: 8px 15px;
            border: none;
            border-radius: 20px;
            cursor: pointer;
            font-size: 13px;
            transition: all 0.3s;
            background: #f8f9fa;
        }

        .instagram-btn:hover {
            transform: scale(1.05);
        }

        .instagram-btn.selected {
            background: #e91e63;
            color: white;
        }

        .navigation {
            padding: 20px 40px;
            display: none;
            justify-content: space-between;
            align-items: center;
            border-top: 1px solid #eee;
        }

        .nav-btn {
            padding: 10px 20px;
            border: 2px solid #667eea;
            background: none;
            color: #667eea;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
        }

        .nav-btn:hover {
            background: #667eea;
            color: white;
        }

        .nav-btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .results {
            padding: 40px;
            display: none;
            text-align: center;
        }

        .results h2 {
            margin-bottom: 20px;
            color: #333;
        }

        .results-summary {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
            text-align: left;
        }

        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>Social Media & Fashion Study</h1>
            <p>Understanding how people discover and purchase fashion in the UAE</p>
        </div>

        <div class="demographics" id="demographics">
            <h2>Tell us about yourself</h2>
            <form id="demographicsForm">
                <div class="form-row">
                    <div class="form-group">
                        <label for="participantId">Name/ID (Optional)</label>
                        <input type="text" id="participantId" placeholder="Enter your name or leave blank">
                    </div>
                    <div class="form-group">
                        <label for="age">Age</label>
                        <select id="age" required>
                            <option value="">Select your age range</option>
                            <option value="18-24">18-24</option>
                            <option value="25-29">25-29</option>
                            <option value="30-34">30-34</option>
                            <option value="35-39">35-39</option>
                            <option value="40-44">40-44</option>
                            <option value="45-50">45-50</option>
                            <option value="50+">50+</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="income">Monthly Income (AED)</label>
                        <select id="income" required>
                            <option value="">Select your income range</option>
                            <option value="Under 3000">Under 3,000</option>
                            <option value="3000-5000">3,000 - 5,000</option>
                            <option value="5000-8000">5,000 - 8,000</option>
                            <option value="8000-12000">8,000 - 12,000</option>
                            <option value="12000-18000">12,000 - 18,000</option>
                            <option value="18000-25000">18,000 - 25,000</option>
                            <option value="Over 25000">Over 25,000</option>
                            <option value="Prefer not to say">Prefer not to say</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="socialTime">Daily social media time</label>
                        <select id="socialTime" required>
                            <option value="">How long do you spend?</option>
                            <option value="Less than 1 hour">Less than 1 hour</option>
                            <option value="1-2 hours">1-2 hours</option>
                            <option value="2-3 hours">2-3 hours</option>
                            <option value="3-4 hours">3-4 hours</option>
                            <option value="More than 4 hours">More than 4 hours</option>
                        </select>
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="discoveryPlatform">Platform for discovering products</label>
                        <select id="discoveryPlatform" required>
                            <option value="">Which do you use most?</option>
                            <option value="Instagram">Instagram</option>
                            <option value="Facebook">Facebook</option>
                            <option value="TikTok">TikTok</option>
                            <option value="YouTube">YouTube</option>
                            <option value="WhatsApp">WhatsApp</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="purchasePlatform">Platform for actually buying</label>
                        <select id="purchasePlatform" required>
                            <option value="">Where do you buy?</option>
                            <option value="Instagram Shopping">Instagram Shopping</option>
                            <option value="Facebook Marketplace">Facebook Marketplace</option>
                            <option value="Brand websites">Direct brand websites</option>
                            <option value="Amazon/Noon">Amazon/Noon</option>
                            <option value="Physical stores">Physical stores</option>
                            <option value="Other">Other</option>
                        </select>
                    </div>
                </div>

                <div class="form-group">
                    <label for="purchaseFrequency">How often do you buy fashion items?</label>
                    <select id="purchaseFrequency" required>
                        <option value="">Select frequency</option>
                        <option value="Weekly">Weekly</option>
                        <option value="Monthly">Monthly</option>
                        <option value="Every few months">Every few months</option>
                        <option value="A couple times per year">A couple times per year</option>
                        <option value="Rarely">Rarely</option>
                    </select>
                </div>

                <button type="button" class="btn" onclick="submitDemographics()">Continue to Survey</button>
            </form>
        </div>

        <div class="interface-selection" id="interfaceSelection">
            <h2 class="selection-title">Choose Your Preferred Style</h2>
            <p class="selection-subtitle">Which of these feels more natural to you?</p>
            
            <div class="interface-options">
                <div class="interface-option" onclick="selectInterface('facebook')">
                    <div class="interface-preview facebook-preview">
                        <strong>Fashion Brand</strong><br>
                        Check out our new collection! These premium sneakers combine comfort and style with high-quality materials and modern design. Perfect for casual wear or light exercise. Available in multiple colors and sizes.
                        <br><br>
                        <div style="display: flex; gap: 10px; margin-top: 10px;">
                            <button style="padding: 5px 10px; border: 1px solid #ccc; background: white;">üëç Like</button>
                            <button style="padding: 5px 10px; border: 1px solid #ccc; background: white;">üì§ Share</button>
                            <button style="padding: 5px 10px; border: 1px solid #ccc; background: white;">üë• Follow</button>
                        </div>
                    </div>
                    <h3>Detailed Style</h3>
                    <p>More information, detailed descriptions</p>
                </div>

                <div class="interface-option" onclick="selectInterface('instagram')">
                    <div class="interface-preview instagram-preview">
                        New drops! ‚ú®<br>
                        Swipe for details üëÜ
                    </div>
                    <h3>Visual Style</h3>
                    <p>Quick, visual, story-like format</p>
                </div>
            </div>
        </div>

        <div class="survey-screen" id="surveyScreen">
            <div class="question-counter">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <span id="questionNumber">Question 1 of 15</span>
            </div>

            <div id="questionContainer">
                <!-- Questions will be inserted here -->
            </div>
        </div>

        <div class="navigation" id="navigation">
            <button class="nav-btn" id="prevBtn" onclick="previousQuestion()" disabled>‚Üê Previous</button>
            <span style="font-size: 14px; color: #666;">Make your choice above</span>
            <button class="nav-btn" id="nextBtn" onclick="nextQuestion()" disabled>Next ‚Üí</button>
        </div>

        <div class="results" id="results">
            <h2>Thank you for participating!</h2>
            <div class="results-summary" id="resultsSummary">
                <!-- Results will be shown here -->
            </div>
            <p>Your responses help us understand social media behavior patterns in fashion retail.</p>
        </div>
    </div>

    <script>
        let currentQuestionIndex = 0;
        let selectedInterface = null;
        let responses = [];
        let demographics = {};
        let sessionStartTime = Date.now();
        let questionStartTime = Date.now();
        let navigationMetrics = [];

        const surveyQuestions = [
            {
                id: 1,
                type: "luxury_aspiration",
                scenario: "Premium designer sneakers trending on TikTok",
                facebookContent: {
                    brand: "LuxStep Milano",
                    content: "Introducing our latest premium sneakers - handcrafted in Italy with genuine leather and innovative comfort technology. These designer shoes feature premium materials, attention to detail, and timeless style. Worn by celebrities and fashion influencers worldwide. Price: AED 1,200",
                    image: "Premium Designer Sneakers - Italian Leather"
                },
                instagramContent: {
                    brand: "LuxStep Milano",
                    content: "New luxury drops ‚ú® Celebrity approved üëë Italian craftsmanship üáÆüáπ AED 1,200",
                    image: "‚ú® Premium Sneakers ‚ú®"
                }
            },
            {
                id: 2,
                type: "viral_trend",
                scenario: "Trendy handbag going viral but expensive",
                facebookContent: {
                    brand: "TrendVault",
                    content: "This handbag is taking social media by storm! Features unique design elements that make it perfect for the modern fashionista. High-quality construction with durable materials and spacious interior. Perfect for work, travel, or special occasions. Price: AED 650",
                    image: "Viral Trend Handbag - Social Media Favorite"
                },
                instagramContent: {
                    brand: "TrendVault", 
                    content: "Going viral! üî• Everyone wants this bag üíº Limited stock ‚ö° AED 650",
                    image: "üî• Viral Handbag üî•"
                }
            },
            {
                id: 3,
                type: "practical_work",
                scenario: "Professional comfortable work shoes",
                facebookContent: {
                    brand: "ComfortPro Shoes",
                    content: "Professional work shoes designed for long days on your feet. Features advanced cushioning technology, slip-resistant soles, and breathable materials. Perfect for office environments, retail work, or healthcare professionals. Durable construction ensures long-lasting comfort and style. Price: AED 250",
                    image: "Professional Comfort Work Shoes - All Day Comfort"
                },
                instagramContent: {
                    brand: "ComfortPro Shoes",
                    content: "All-day comfort üëû Perfect for work üíº Professional style üìà AED 250",
                    image: "üëû Work Comfort üëû"
                }
            },
            {
                id: 4,
                type: "accessible_luxury",
                scenario: "Affordable luxury shoes with premium feel",
                facebookContent: {
                    brand: "SmartLux Footwear",
                    content: "Accessible luxury - premium-feeling shoes at smart prices. Combines luxury aesthetics with practical pricing. Features high-quality materials, elegant design, and comfortable fit. Perfect for both professional and casual settings. Experience luxury without breaking the budget. Price: AED 350",
                    image: "Accessible Luxury Shoes - Premium Feel, Smart Price"
                },
                instagramContent: {
                    brand: "SmartLux",
                    content: "Luxury vibes üí´ Smart pricing üí° Premium feel ‚ú® AED 350",
                    image: "üí´ Smart Luxury üí´"
                }
            },
            {
                id: 5,
                type: "friend_recommendation",
                scenario: "Friend recommends local UAE fashion brand",
                facebookContent: {
                    brand: "Dubai Style Co.",
                    content: "Your friend Sarah just shared this! Local UAE fashion brand creating beautiful pieces inspired by Middle Eastern culture and modern design. Each piece tells a story and supports local artisans. Perfect blend of traditional elements with contemporary style. Price range: AED 180-450",
                    image: "UAE Local Fashion - Friend Recommended"
                },
                instagramContent: {
                    brand: "Dubai Style Co.",
                    content: "Sarah shared this! üë≠ UAE local brand üá¶üá™ Cultural style ‚ú® AED 180-450",
                    image: "üá¶üá™ Local Style üá¶üá™"
                }
            }
        ];

        function submitDemographics() {
            const form = document.getElementById('demographicsForm');
            if (!form.checkValidity()) {
                form.reportValidity();
                return;
            }

            demographics = {
                participantId: document.getElementById('participantId').value || `P${Date.now()}`,
                age: document.getElementById('age').value,
                income: document.getElementById('income').value,
                socialTime: document.getElementById('socialTime').value,
                discoveryPlatform: document.getElementById('discoveryPlatform').value,
                purchasePlatform: document.getElementById('purchasePlatform').value,
                purchaseFrequency: document.getElementById('purchaseFrequency').value,
                timestamp: new Date().toISOString()
            };

            document.getElementById('demographics').style.display = 'none';
            document.getElementById('interfaceSelection').style.display = 'block';
        }

        function selectInterface(interfaceType) {
            selectedInterface = interfaceType;
            
            document.querySelectorAll('.interface-option').forEach(option => {
                option.classList.remove('selected');
            });
            event.target.closest('.interface-option').classList.add('selected');

            setTimeout(() => {
                document.getElementById('interfaceSelection').style.display = 'none';
                document.getElementById('surveyScreen').style.display = 'block';
                document.getElementById('navigation').style.display = 'flex';
                startSurvey();
            }, 1000);
        }

        function startSurvey() {
            currentQuestionIndex = 0;
            questionStartTime = Date.now();
            showQuestion(0);
        }

        function showQuestion(index) {
            const question = surveyQuestions[index];
            const container = document.getElementById('questionContainer');
            
            const progress = ((index + 1) / surveyQuestions.length) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            document.getElementById('questionNumber').textContent = `Question ${index + 1} of ${surveyQuestions.length}`;

            const legend = `
                <div style="background: #f8f9fa; padding: 15px; border-radius: 8px; margin-bottom: 20px; font-size: 14px; color: #666;">
                    <strong>What each button means:</strong><br>
                    <span style="margin-right: 15px;">‚ù§Ô∏è <strong>Like</strong> = I find this interesting/appealing</span>
                    <span style="margin-right: 15px;">üì§ <strong>Share</strong> = I'd recommend this to others</span>
                    <span style="margin-right: 15px;">üë• <strong>Follow</strong> = I want to know more/might purchase</span>
                    <span>‚è≠Ô∏è <strong>Skip</strong> = Not relevant to me</span>
                </div>
            `;

            let questionHTML = legend;
            
            if (selectedInterface === 'facebook') {
                const content = question.facebookContent;
                questionHTML += `
                    <div class="facebook-post">
                        <div class="facebook-header">
                            <div class="facebook-avatar"></div>
                            <div>
                                <strong>${content.brand}</strong><br>
                                <small>Sponsored</small>
                            </div>
                        </div>
                        <div class="facebook-content">
                            ${content.content}
                        </div>
                        <div class="facebook-image">
                            ${content.image}
                        </div>
                        <div class="facebook-actions">
                            <button class="facebook-btn" onclick="selectAction(${question.id}, 'like')">
                                üëç Like
                            </button>
                            <button class="facebook-btn" onclick="selectAction(${question.id}, 'share')">
                                üì§ Share
                            </button>
                            <button class="facebook-btn" onclick="selectAction(${question.id}, 'follow')">
                                üë• Follow
                            </button>
                            <button class="facebook-btn" onclick="selectAction(${question.id}, 'skip')">
                                ‚è≠Ô∏è Skip
                            </button>
                        </div>
                    </div>
                `;
            } else {
                const content = question.instagramContent;
                questionHTML += `
                    <div class="instagram-post">
                        <div class="instagram-header">
                            <div class="instagram-avatar"></div>
                            <div>
                                <strong>${content.brand}</strong><br>
                                <small>Sponsored</small>
                            </div>
                        </div>
                        <div class="instagram-image">
                            ${content.image}
                        </div>
                        <div class="instagram-content">
                            ${content.content}
                        </div>
                        <div class="instagram-actions">
                            <button class="instagram-btn" onclick="selectAction(${question.id}, 'like')">
                                ‚ù§Ô∏è Like
                            </button>
                            <button class="instagram-btn" onclick="selectAction(${question.id}, 'share')">
                                üì§ Share
                            </button>
                            <button class="instagram-btn" onclick="selectAction(${question.id}, 'follow')">
                                üë• Follow
                            </button>
                            <button class="instagram-btn" onclick="selectAction(${question.id}, 'skip')">
                                ‚è≠Ô∏è Skip
                            </button>
                        </div>
                    </div>
                `;
            }

            container.innerHTML = questionHTML;
            questionStartTime = Date.now();

            document.getElementById('prevBtn').disabled = index === 0;
            document.getElementById('nextBtn').disabled = false;
        }

        function selectAction(questionId, action) {
            const responseTime = Date.now() - questionStartTime;
            
            document.querySelectorAll('.facebook-btn, .instagram-btn').forEach(btn => {
                btn.classList.remove('selected');
            });
            event.target.classList.add('selected');

            const response = {
                questionId: questionId,
                questionType: surveyQuestions[currentQuestionIndex].type,
                scenario: surveyQuestions[currentQuestionIndex].scenario,
                selectedAction: action,
                responseTime: responseTime,
                interface: selectedInterface,
                hesitationLevel: responseTime > 3000 ? 'high' : responseTime > 1500 ? 'medium' : 'low',
                timestamp: new Date().toISOString()
            };

            responses.push(response);

            if (action === 'skip') {
                setTimeout(() => {
                    nextQuestion();
                }, 500);
            } else {
                document.getElementById('nextBtn').disabled = false;
            }
        }

        function nextQuestion() {
            if (currentQuestionIndex < surveyQuestions.length - 1) {
                navigationMetrics.push({
                    from: currentQuestionIndex,
                    to: currentQuestionIndex + 1,
                    direction: 'forward',
                    timestamp: new Date().toISOString()
                });
                
                currentQuestionIndex++;
                showQuestion(currentQuestionIndex);
            } else {
                finishSurvey();
            }
        }

        function previousQuestion() {
            if (currentQuestionIndex > 0) {
                navigationMetrics.push({
                    from: currentQuestionIndex,
                    to: currentQuestionIndex - 1,
                    direction: 'backward',
                    timestamp: new Date().toISOString()
                });
                
                currentQuestionIndex--;
                showQuestion(currentQuestionIndex);
            }
        }

        function finishSurvey() {
            document.getElementById('surveyScreen').style.display = 'none';
            document.getElementById('navigation').style.display = 'none';
            document.getElementById('results').style.display = 'block';

            const totalTime = Date.now() - sessionStartTime;
            const avgResponseTime = responses.reduce((sum, r) => sum + r.responseTime, 0) / responses.length;
            
            const actionCounts = {
                like: responses.filter(r => r.selectedAction === 'like').length,
                share: responses.filter(r => r.selectedAction === 'share').length,
                follow: responses.filter(r => r.selectedAction === 'follow').length,
                skip: responses.filter(r => r.selectedAction === 'skip').length
            };

            const highEngagementLowConversion = responses.filter(r => 
                ['luxury_aspiration', 'viral_trend'].includes(r.questionType) && 
                ['like', 'share'].includes(r.selectedAction)
            ).length;

            const lowEngagementHighConversion = responses.filter(r => 
                ['practical_work', 'accessible_luxury'].includes(r.questionType) && 
                r.selectedAction === 'follow'
            ).length;

            const resultsSummary = `
                <h3>Your Response Pattern</h3>
                <p><strong>Interface Selected:</strong> ${selectedInterface === 'facebook' ? 'Detailed Style' : 'Visual Style'}</p>
                <p><strong>Age Group:</strong> ${demographics.age}</p>
                <p><strong>Total Survey Time:</strong> ${Math.round(totalTime / 1000)} seconds</p>
                <p><strong>Average Response Time:</strong> ${Math.round(avgResponseTime / 1000)} seconds</p>
                
                <h4>Your Actions:</h4>
                <p>‚ù§Ô∏è Liked: ${actionCounts.like} items</p>
                <p>üì§ Shared: ${actionCounts.share} items</p>
                <p>üë• Followed: ${actionCounts.follow} items</p>
                <p>‚è≠Ô∏è Skipped: ${actionCounts.skip} items</p>

                <h4>Behavior Indicators:</h4>
                <p><strong>High Engagement Items:</strong> ${highEngagementLowConversion} luxury/trendy items liked or shared</p>
                <p><strong>Purchase Intent Items:</strong> ${lowEngagementHighConversion} practical items followed</p>
                
                ${navigationMetrics.filter(m => m.direction === 'backward').length > 0 ? 
                    `<p><strong>Reconsiderations:</strong> You went back ${navigationMetrics.filter(m => m.direction === 'backward').length} times</p>` : 
                    '<p><strong>Decision Style:</strong> Direct and decisive</p>'
                }
            `;

            document.getElementById('resultsSummary').innerHTML = resultsSummary;

            const finalData = {
                participantId: demographics.participantId,
                demographics: demographics,
                interfaceSelected: selectedInterface,
                responses: responses,
                navigationMetrics: navigationMetrics,
                summary: {
                    totalTime: totalTime,
                    avgResponseTime: avgResponseTime,
                    actionCounts: actionCounts,
                    paradoxIndicators: {
                        highEngagementLowConversion: highEngagementLowConversion,
                        lowEngagementHighConversion: lowEngagementHighConversion
                    }
                },
                completedAt: new Date().toISOString()
            };

            console.log('COMPLETE SURVEY DATA:', finalData);
        }
    </script>
</body>
</html>
